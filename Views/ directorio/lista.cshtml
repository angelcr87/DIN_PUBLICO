@model IEnumerable<DINTRANET.Models.directorio>

@{
    ViewBag.Title = "lista";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="center-block less-width text-center clearfix">
    <h1>Directorio de <span class="text-greensea">Sucursales y Staff</span></h1>
</div>

@* tab *@
<ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#suc">Sucursales</a></li>
    <li><a data-toggle="tab" href="#staff">Staff</a></li>

</ul>
<br /><br />
<div class="tab-content">
    <div id="suc" class="tab-pane fade in active">
        <div class="container">
            <input type="text" class="form-control" id="myInput" onkeyup="myFunction()" placeholder="Buscar" title="Type in a name">
            <br />
        </div>
        <div class="container directorioContenedor" id="myTable">

            @foreach (var item in Model.Where(s => s.tipo == "Sucursal"))
            {
                @* SECCION DE UNA SUCURSAL *@
                <div class="row directorioSeccion" id="@item.sucursal.ToUpper().Replace(" ","_")">
                    <div class="col-md-4">
                        @* seccion del mapa y el título *@
                        @*<img class="imgDirectorio" src="~/assets/moneda.jpg" style="width:30%; height:auto; font-weight:bold;">*@

                        <center><h4 class="directorioSuc">@item.sucursal.ToUpper()</h4></center>
                        @*<iframe class="mapDirectorio" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d931.5448634190262!2d-89.6306329921141!3d20.94530734397074!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f56722be651a1e1%3A0xe5d460f15c54bf10!2sDinero%20Inmediato!5e0!3m2!1ses!2smx!4v1585011411854!5m2!1ses!2smx" frameborder="0" style="border:0; " allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>*@
                        @Html.Raw(item.ubicacion)


                    </div>

                    <div class="col-md-8">
                        @* seccion de la infomacion *@
                        <div class="row">
                            <div class="col-md-6">
                                <br />
                                <br />
                                <p><span style="font-weight:bold;">Horario:</span> @String.Format("{0:00}", item.horario_apertura.Hours):@String.Format("{0:00}", item.horario_apertura.Minutes) - @String.Format("{0:00}", item.horario_cierrre.Hours):@String.Format("{0:00}", item.horario_cierrre.Minutes)  </p>
                                <p><span style="font-weight:bold;">Gerente de Sucursal:</span> @item.gerente_zona.ToUpper()</p>
                                <p><span style="font-weight:bold;">Cel. Gerente:</span> @item.cel_gerente</p>

                                @if (item.telefono_suc != "")
                                {
                                    <p>
                                        <span style="font-weight:bold;">Telefono:</span> @item.telefono_suc
                                        @if (item.ext_suc != "")
                                        {
                                            <span> Ext:</span> @item.ext_suc
                                        }

                                    </p>
                                }
                            </div>

                            <div class="col-md-6">
                                <br />
                                <br />

                                <p>
                                    <span style="font-weight:bold;">1er Encargado:</span>
                                    @if (item.encargado1 != "")
                                    {
                                        @item.encargado1.ToUpper()
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }
                                </p>



                                <p>
                                    <span style="font-weight:bold;">Cel 1er Encargado:</span>
                                    @if (item.cel_encargado1 != "")
                                    {
                                        @item.cel_encargado1
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }

                                </p>

                                <p>
                                    <span style="font-weight:bold;">2do Encargado:</span>
                                    @if (item.encargado2 != "")
                                    {
                                        @item.encargado2.ToUpper()
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }
                                </p>



                                <p>
                                    <span style="font-weight:bold;">Cel 2do Encargado:</span>
                                    @if (item.cel_encargado2 != "")
                                    {
                                        @item.cel_encargado2
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }

                                </p>

                            </div>

                        </div>


                    </div>

                </div>
            }
        </div>
    </div>



    <div id="staff" class="tab-pane fade">
        <div class="container">
            <input type="text" class="form-control" id="myInput2" onkeyup="myFunction2()" placeholder="Buscar" title="Type in a name">
            <br />
        </div>
        <div class="container directorioContenedor" id="myTable">

            @foreach (var item in Model.Where(s => s.tipo == "Staff"))
            {
                @* SECCION DE UNA SUCURSAL *@
                <div class="row directorioSeccion" id="@item.sucursal.ToUpper().Replace(" ","_")">
                    <div class="col-md-4">
                        @* seccion de la foto y el título *@
                        <center><h4 class="directorioSuc">@item.sucursal.ToUpper()</h4></center>
                        <center>
                            <img class="imgDirectorio" src="~/assets/moneda.jpg" style="width:30%; height:auto; font-weight:bold;">
                        </center>

                        @*<iframe class="mapDirectorio" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d931.5448634190262!2d-89.6306329921141!3d20.94530734397074!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f56722be651a1e1%3A0xe5d460f15c54bf10!2sDinero%20Inmediato!5e0!3m2!1ses!2smx!4v1585011411854!5m2!1ses!2smx" frameborder="0" style="border:0; " allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>*@
                        @*@Html.Raw(item.ubicacion)*@


                    </div>

                    <div class="col-md-8">
                        @* seccion de la infomacion *@
                        <div class="row">
                            <div class="col-md-6">
                                <br />
                                <br />
                                <p><span style="font-weight:bold;">Horario:</span> @String.Format("{0:00}", item.horario_apertura.Hours):@String.Format("{0:00}", item.horario_apertura.Minutes) - @String.Format("{0:00}", item.horario_cierrre.Hours):@String.Format("{0:00}", item.horario_cierrre.Minutes)  </p>
                                <p><span style="font-weight:bold;">Gerente de Sucursal:</span> @item.gerente_zona.ToUpper()</p>
                                <p><span style="font-weight:bold;">Cel. Gerente:</span> @item.cel_gerente</p>

                                @if (item.telefono_suc != "")
                                {
                                    <p>
                                        <span style="font-weight:bold;">Telefono:</span> @item.telefono_suc
                                        @if (item.ext_suc != "")
                                        {
                                            <span> Ext:</span> @item.ext_suc
                                        }

                                    </p>
                                }
                            </div>

                            <div class="col-md-6">
                                <br />
                                <br />

                                <p>
                                    <span style="font-weight:bold;">1er Encargado:</span>
                                    @if (item.encargado1 != "")
                                    {
                                        @item.encargado1.ToUpper()
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }
                                </p>



                                <p>
                                    <span style="font-weight:bold;">Cel 1er Encargado:</span>
                                    @if (item.cel_encargado1 != "")
                                    {
                                        @item.cel_encargado1
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }

                                </p>

                                <p>
                                    <span style="font-weight:bold;">2do Encargado:</span>
                                    @if (item.encargado2 != "")
                                    {
                                        @item.encargado2.ToUpper()
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }
                                </p>



                                <p>
                                    <span style="font-weight:bold;">Cel 2do Encargado:</span>
                                    @if (item.cel_encargado2 != "")
                                    {
                                        @item.cel_encargado2
                                    }
                                    else
                                    {
                                        <span>NA</span>
                                    }

                                </p>

                            </div>

                        </div>


                    </div>

                </div>
            }
        </div>


    </div>

</div>



<script type="text/javascript">

    //$(document).ready(function () {

    function myFunction() {
        input = document.getElementById("myInput");
        valor = input.value.toUpperCase();
        //var valor = $(this).val();
        //var div = document.getElementsByClassName("#main");
        //var divs = document.getElementsByClassName("directorioContenedor");
        var divs = document.getElementsByClassName("directorioSeccion");


        for (i = 0; i < divs.length; i++) {
            //div = divs[i].getElementsByClassName("categoriaDIV")[0];

            if (divs[i].id.indexOf(valor.replace(" ", "_")) > -1) {
                divs[i].style.display = "";
            } else {
                divs[i].style.display = "none";
            }

            //    if (divs[i].id == valor.replace(" ","_")) {
            //        $('#' + divs[i].id).show();

            //    }
            //    else {
            //        $('#' + divs[i].id).hide();
            //    }

            //    if (valor == "") {
            //        $('#' + divs[i].id).show();
            //    }
            //}
        }
    }

    //});


    function myFunction2() {
        input = document.getElementById("myInput2");
        valor = input.value.toUpperCase();
        //var valor = $(this).val();
        //var div = document.getElementsByClassName("#main");
        //var divs = document.getElementsByClassName("directorioContenedor");
        var divs = document.getElementsByClassName("directorioSeccion");


        for (i = 0; i < divs.length; i++) {
            //div = divs[i].getElementsByClassName("categoriaDIV")[0];

            if (divs[i].id.indexOf(valor.replace(" ", "_")) > -1) {
                divs[i].style.display = "";
            } else {
                divs[i].style.display = "none";
            }

            //    if (divs[i].id == valor.replace(" ","_")) {
            //        $('#' + divs[i].id).show();

            //    }
            //    else {
            //        $('#' + divs[i].id).hide();
            //    }

            //    if (valor == "") {
            //        $('#' + divs[i].id).show();
            //    }
            //}
        }
    }


</script>
